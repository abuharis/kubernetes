# kubernetes
The repository contains the steps to build a kubernetes cluster from scratch.
It includes installing Docker Engine, CRI-dockerd adapter to act as shim between docker and k8s.
Later on, the final kubernetes tools such as kubeadm, kubelet, kubectl are installed.

## Installation
`./deploy_k8s.sh`

## Post Installation
### After the installation of tools, configure master node. Once a node has been selected as master, join workers to the master by the following sytax.
`kubeadm join master_IP:6443 --token [from master node] --discovery-token-ca-cert-hash [hash generated by master] --cri-socket unix:///var/run/cri-dockerd.sock`

### Once the worker has joined, you will get the following output.
> This node has joined the cluster.
> * Certificate signing request was sent to apiserver and a response was received.
> * The Kubelet was informed of the new secure connection details.

> Run 'kubectl get nodes' on the control-plane to see this node join the cluster.

### In case you missed to save the token when master was created, generate a new one in master node by:
`kubeadm token create --print-join-command`

